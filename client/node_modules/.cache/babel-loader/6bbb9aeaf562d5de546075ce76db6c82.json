{"ast":null,"code":"var _jsxFileName = \"/Users/andrioljaupaj/Desktop/chat-app/client/src/components/login/login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Chat from \"../chat/chat\";\nimport { roomConnection } from \"../chat/chat\";\nimport \"./login.scss\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [room, setRoom] = useState(\"\"); // register\n\n  const data = {\n    username,\n    password,\n    email,\n    room\n  };\n  const requestOptions = {\n    method: \"POST\",\n    headers: {\n      \"content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(data)\n  };\n\n  const signUp = e => {\n    e.preventDefault();\n    fetch(\"http://localhost:8080/user/register\", requestOptions).then(res => res.json()).then(res => {\n      sessionStorage.setItem(\"authToken\", res.authToken);\n    });\n    setUsername(\"\");\n    setPassword(\"\");\n    setEmail(\"\");\n    alert(\"Congrats.you are now register!\");\n  }; //login\n\n\n  const loginData = {\n    email,\n    password,\n    room\n  };\n  const requestOptionsLogin = {\n    method: \"POST\",\n    headers: {\n      \"content-Type\": \"application/json\"\n    },\n    body: JSON.stringify(loginData)\n  };\n\n  const logIn = e => {\n    e.preventDefault();\n    fetch(\"http://localhost:8080/user/login\", requestOptionsLogin).then(res => res.json()).then(res => {\n      console.log(res);\n      sessionStorage.setItem(\"authToken\", res.authToken);\n    });\n    alert(\"redirecting...\");\n    setEmail(\"\");\n    setPassword(\"\");\n    window.location.reload();\n    return false;\n  };\n\n  useEffect(() => {\n    const authToken = sessionStorage.getItem(\"authToken\");\n\n    if (authToken && authToken !== \"undefined\") {\n      setIsLoggedIn(true);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [!isLoggedIn && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"main_login-wrapper\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"login-wrap\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"login-html\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"tab-1\",\n            type: \"radio\",\n            name: \"tab\",\n            className: \"sign-in\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"tab-1\",\n            className: \"tab\",\n            children: \"Sign In\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"tab-2\",\n            type: \"radio\",\n            name: \"tab\",\n            className: \"sign-up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"tab-2\",\n            className: \"tab\",\n            children: \"Sign Up\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"login-form\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sign-in-htm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"user\",\n                  className: \"label\",\n                  children: \"Email\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 83,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"user\",\n                  type: \"text\",\n                  className: \"input\",\n                  name: \"email\",\n                  onChange: e => setEmail(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 86,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 82,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"pass\",\n                  className: \"label\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"pass\",\n                  type: \"password\",\n                  className: \"input\" //data-type=\"password\"\n                  ,\n                  name: \"password\",\n                  onChange: e => setPassword(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 94,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"room\",\n                  className: \"label\",\n                  children: \"Room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"room\",\n                  type: \"room\",\n                  className: \"input\" //data-type=\"password\"\n                  ,\n                  name: \"room\",\n                  onChange: e => setRoom(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 111,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 107,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"check\",\n                  type: \"checkbox\",\n                  className: \"check\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 121,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"check\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"icon\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 123,\n                    columnNumber: 23\n                  }, this), \" Keep me Signed in\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 122,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 120,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/chat\",\n                  children: /*#__PURE__*/_jsxDEV(\"input\", {\n                    type: \"submit\",\n                    className: \"button\",\n                    value: \"Sign In\",\n                    onClick: logIn\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 128,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"hr\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 136,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"foot-lnk\",\n                children: /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#forgot\",\n                  children: \"Forgot Password?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 138,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 137,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"sign-up-htm\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"user\",\n                  className: \"label\",\n                  children: \"Username\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 143,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"user\",\n                  type: \"text\",\n                  className: \"input\",\n                  name: \"username\",\n                  onChange: e => setUsername(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 146,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 142,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"pass\",\n                  className: \"label\",\n                  children: \"Password\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 155,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"pass\",\n                  type: \"password\",\n                  className: \"input\" //data-type=\"password\"\n                  ,\n                  name: \"password\",\n                  onChange: e => setPassword(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 158,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 154,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"pass\",\n                  className: \"label\",\n                  children: \"Email Address\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 169,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"pass\",\n                  type: \"text\",\n                  className: \"input\",\n                  name: \"email\",\n                  onChange: e => setEmail(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 172,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 168,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"room\",\n                  className: \"label\",\n                  children: \"Room\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 181,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                  id: \"room\",\n                  type: \"room\",\n                  className: \"input\" //data-type=\"password\"\n                  ,\n                  name: \"room\",\n                  onChange: e => setRoom(e.target.value)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 184,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 180,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"group\",\n                children: /*#__PURE__*/_jsxDEV(\"input\", {\n                  onClick: signUp,\n                  type: \"submit\",\n                  className: \"button\",\n                  value: \"Sign Up\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 194,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 193,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"hr\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 201,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"foot-lnk\",\n                children: /*#__PURE__*/_jsxDEV(\"label\", {\n                  for: \"tab-1\",\n                  children: \"Already Member?\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 203,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 202,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 141,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this), isLoggedIn && /*#__PURE__*/_jsxDEV(Chat, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 211,\n      columnNumber: 22\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 67,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Login, \"Sz1EkFR5P5OEM0umf2rqiodguyw=\");\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["/Users/andrioljaupaj/Desktop/chat-app/client/src/components/login/login.js"],"names":["React","useState","useEffect","Link","Chat","roomConnection","Login","isLoggedIn","setIsLoggedIn","username","setUsername","password","setPassword","email","setEmail","room","setRoom","data","requestOptions","method","headers","body","JSON","stringify","signUp","e","preventDefault","fetch","then","res","json","sessionStorage","setItem","authToken","alert","loginData","requestOptionsLogin","logIn","console","log","window","location","reload","getItem","target","value"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport Chat from \"../chat/chat\";\nimport { roomConnection } from \"../chat/chat\";\nimport \"./login.scss\";\n\nconst Login = () => {\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n  const [room, setRoom] = useState(\"\");\n\n  // register\n  const data = { username, password, email, room };\n  const requestOptions = {\n    method: \"POST\",\n    headers: { \"content-Type\": \"application/json\" },\n    body: JSON.stringify(data),\n  };\n\n  const signUp = (e) => {\n    e.preventDefault();\n\n    fetch(\"http://localhost:8080/user/register\", requestOptions)\n      .then((res) => res.json())\n      .then((res) => {\n        sessionStorage.setItem(\"authToken\", res.authToken);\n      });\n\n    setUsername(\"\");\n    setPassword(\"\");\n    setEmail(\"\");\n    alert(\"Congrats.you are now register!\");\n  };\n  //login\n  const loginData = { email, password, room };\n  const requestOptionsLogin = {\n    method: \"POST\",\n    headers: { \"content-Type\": \"application/json\" },\n    body: JSON.stringify(loginData),\n  };\n  const logIn = (e) => {\n    e.preventDefault();\n\n    fetch(\"http://localhost:8080/user/login\", requestOptionsLogin)\n      .then((res) => res.json())\n      .then((res) => {\n        console.log(res);\n        sessionStorage.setItem(\"authToken\", res.authToken);\n      });\n    alert(\"redirecting...\");\n    setEmail(\"\");\n    setPassword(\"\");\n    window.location.reload();\n    return false;\n  };\n\n  useEffect(() => {\n    const authToken = sessionStorage.getItem(\"authToken\");\n    if (authToken && authToken !== \"undefined\") {\n      setIsLoggedIn(true);\n    }\n  }, []);\n\n  return (\n    <div>\n      {!isLoggedIn && (\n        <div className=\"main_login-wrapper\">\n          <div className=\"login-wrap\">\n            <div className=\"login-html\">\n              <input id=\"tab-1\" type=\"radio\" name=\"tab\" className=\"sign-in\" />\n              <label for=\"tab-1\" className=\"tab\">\n                Sign In\n              </label>\n              <input id=\"tab-2\" type=\"radio\" name=\"tab\" className=\"sign-up\" />\n              <label for=\"tab-2\" className=\"tab\">\n                Sign Up\n              </label>\n              <div className=\"login-form\">\n                <div className=\"sign-in-htm\">\n                  <div className=\"group\">\n                    <label for=\"user\" className=\"label\">\n                      Email\n                    </label>\n                    <input\n                      id=\"user\"\n                      type=\"text\"\n                      className=\"input\"\n                      name=\"email\"\n                      onChange={(e) => setEmail(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"group\">\n                    <label for=\"pass\" className=\"label\">\n                      Password\n                    </label>\n                    <input\n                      id=\"pass\"\n                      type=\"password\"\n                      className=\"input\"\n                      //data-type=\"password\"\n                      name=\"password\"\n                      onChange={(e) => setPassword(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"group\">\n                    <label for=\"room\" className=\"label\">\n                      Room\n                    </label>\n                    <input\n                      id=\"room\"\n                      type=\"room\"\n                      className=\"input\"\n                      //data-type=\"password\"\n                      name=\"room\"\n                      onChange={(e) => setRoom(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"group\">\n                    <input id=\"check\" type=\"checkbox\" className=\"check\" />\n                    <label for=\"check\">\n                      <span className=\"icon\"></span> Keep me Signed in\n                    </label>\n                  </div>\n                  <div className=\"group\">\n                    <Link to=\"/chat\">\n                      <input\n                        type=\"submit\"\n                        className=\"button\"\n                        value=\"Sign In\"\n                        onClick={logIn}\n                      />\n                    </Link>\n                  </div>\n                  <div className=\"hr\"></div>\n                  <div className=\"foot-lnk\">\n                    <a href=\"#forgot\">Forgot Password?</a>\n                  </div>\n                </div>\n                <div className=\"sign-up-htm\">\n                  <div className=\"group\">\n                    <label for=\"user\" className=\"label\">\n                      Username\n                    </label>\n                    <input\n                      id=\"user\"\n                      type=\"text\"\n                      className=\"input\"\n                      name=\"username\"\n                      onChange={(e) => setUsername(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"group\">\n                    <label for=\"pass\" className=\"label\">\n                      Password\n                    </label>\n                    <input\n                      id=\"pass\"\n                      type=\"password\"\n                      className=\"input\"\n                      //data-type=\"password\"\n                      name=\"password\"\n                      onChange={(e) => setPassword(e.target.value)}\n                    />\n                  </div>\n\n                  <div className=\"group\">\n                    <label for=\"pass\" className=\"label\">\n                      Email Address\n                    </label>\n                    <input\n                      id=\"pass\"\n                      type=\"text\"\n                      className=\"input\"\n                      name=\"email\"\n                      onChange={(e) => setEmail(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"group\">\n                    <label for=\"room\" className=\"label\">\n                      Room\n                    </label>\n                    <input\n                      id=\"room\"\n                      type=\"room\"\n                      className=\"input\"\n                      //data-type=\"password\"\n                      name=\"room\"\n                      onChange={(e) => setRoom(e.target.value)}\n                    />\n                  </div>\n                  <div className=\"group\">\n                    <input\n                      onClick={signUp}\n                      type=\"submit\"\n                      className=\"button\"\n                      value=\"Sign Up\"\n                    />\n                  </div>\n                  <div className=\"hr\"></div>\n                  <div className=\"foot-lnk\">\n                    <label for=\"tab-1\">Already Member?</label>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n      {isLoggedIn && <Chat />}\n    </div>\n  );\n};\nexport default Login;\n"]},"metadata":{},"sourceType":"module"}